/* Global Mobile Optimization for All Pages */

@media (max-width: 768px) {
  /* CRITICAL: Prevent any content from being hidden */
  * {
    max-height: none !important;
  }
  
  *:not(.hidden):not([style*="display: none"]) {
    display: inherit !important;
    visibility: visible !important;
  }
  
  /* Prevent horizontal overflow on all containers */
  body,
  html,
  #root {
    overflow-x: hidden;
    max-width: 100vw;
    box-sizing: border-box;
  }
  
  /* Make all page containers responsive */
  [class*="container"]:not([class*="toast"]):not([class*="Toast"]) {
    padding: 1rem;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow-x: hidden;
  }
  
  /* Force all grids to single column on mobile */
  [class*="grid"]:not([class*="nav"]):not([class*="Nav"]):not([class*="mobile"]):not([class*="Mobile"]),
  [class*="Grid"]:not([class*="nav"]):not([class*="Nav"]):not([class*="mobile"]):not([class*="Mobile"]) {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem;
  }
  
  /* Make all cards full width and prevent overlap */
  [class*="card"],
  [class*="Card"],
  [class*="panel"],
  [class*="Panel"] {
    width: 100%;
    max-width: 100%;
    margin: 0 0 1rem 0;
    box-sizing: border-box;
  }
  
  /* Ensure proper spacing for sections */
  [class*="section"]:not([class*="sidebar"]):not([class*="Sidebar"]) {
    padding: 1rem;
    margin-bottom: 1rem;
    display: block !important;
  }
  
  /* Make forms stack vertically */
  [class*="form"],
  [class*="Form"] {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  /* Ensure buttons are touch-friendly */
  button:not([class*="close"]):not([class*="Close"]),
  [role="button"]:not([class*="close"]):not([class*="Close"]) {
    min-height: 44px;
    min-width: 44px;
    padding: 12px 16px;
    display: block !important;
  }
  
  /* Make inputs full width */
  input:not([type="checkbox"]):not([type="radio"]),
  textarea,
  select {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    font-size: 16px;
  }
  
  /* Fix tables to be scrollable */
  table {
    display: block;
    overflow-x: auto;
    width: 100%;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Make modals responsive */
  [role="dialog"]:not([class*="toast"]),
  [class*="modal"]:not([class*="toast"]),
  [class*="Modal"]:not([class*="toast"]) {
    width: 95vw;
    max-width: 95vw;
    max-height: 90vh;
    overflow-y: auto;
  }
  
  /* Fix two-column layouts */
  [class*="split"],
  [class*="Split"],
  [class*="two-column"],
  [class*="twoColumn"],
  [class*="dual"],
  [class*="Dual"] {
    display: flex !important;
    flex-direction: column !important;
    gap: 1.5rem;
  }
  
  /* Fix sidebar layouts */
  [class*="layout"]:not([class*="nav"]):not([class*="Nav"]) {
    display: flex;
    flex-direction: column;
  }
  
  /* Responsive images */
  img:not([class*="icon"]):not([class*="Icon"]) {
    max-width: 100%;
    height: auto;
  }
  
  /* Fix stat grids */
  [class*="stats"],
  [class*="Stats"] {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)) !important;
    gap: 1rem;
  }
  
  /* Action button groups */
  [class*="actions"],
  [class*="Actions"],
  [class*="buttons"],
  [class*="Buttons"] {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  /* Ensure all tabs are visible */
  [class*="tab"],
  [class*="Tab"] {
    display: flex !important;
    flex-wrap: wrap !important;
    overflow-x: auto !important;
  }
  
  /* Make sure all list items are visible */
  li,
  [role="listitem"] {
    display: list-item !important;
  }
  
  /* Force visibility of important UI elements */
  nav,
  [role="navigation"],
  aside,
  main,
  article,
  section {
    display: block !important;
  }
}

/* Tablet responsive */
@media (max-width: 1024px) and (min-width: 769px) {
  [class*="grid"]:not([class*="nav"]),
  [class*="Grid"]:not([class*="nav"]) {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Small phone adjustments */
@media (max-width: 480px) {
  [class*="container"] {
    padding: 0.75rem;
  }
  
  [class*="section"] {
    padding: 0.75rem;
  }
  
  button {
    font-size: 14px;
  }
}

