/* Mobile-First Hover Fix - Disable hover effects on touch devices */

/* Remove tap highlight colors globally */
* {
  -webkit-tap-highlight-color: transparent !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

/* Re-enable selection for inputs */
input,
textarea,
[contenteditable] {
  -webkit-user-select: text;
  user-select: text;
}

/* Disable all hover effects on touch devices globally */
@media (hover: none) {
  * {
    /* Remove hover transitions on touch devices for better performance */
    transition: none !important;
  }
  
  /* Prevent sticky hover states on mobile */
  *:hover {
    background-color: inherit !important;
    border-color: inherit !important;
    color: inherit !important;
    transform: none !important;
    box-shadow: inherit !important;
    opacity: inherit !important;
  }
  
  /* Remove all hover-based visibility changes */
  *:hover::before,
  *:hover::after {
    display: none !important;
  }
  
  /* Prevent active state color changes */
  *:active {
    background-color: inherit !important;
    border-color: inherit !important;
    color: inherit !important;
  }
}

/* Ensure hover effects only work on devices with precise pointers */
@media (hover: hover) and (pointer: fine) {
  /* Allow hover transitions on desktop */
  * {
    transition: all 0.2s ease;
  }
}

/* Touch-specific improvements */
@media (hover: none) and (pointer: coarse) {
  /* Increase tap targets for mobile */
  button,
  a,
  input[type="button"],
  input[type="submit"],
  [role="button"],
  [class*="btn"],
  [class*="Btn"],
  [class*="button"],
  [class*="Button"] {
    min-height: 48px !important;
    min-width: 48px !important;
    padding: 12px 16px !important;
  }
  
  /* Remove cursor pointer on touch devices (misleading) */
  * {
    cursor: default !important;
  }
  
  /* Better touch feedback with active states instead of hover */
  button:active,
  a:active,
  [role="button"]:active,
  [class*="btn"]:active,
  [class*="Btn"]:active,
  [class*="button"]:active,
  [class*="Button"]:active,
  [class*="card"]:active,
  [class*="Card"]:active {
    opacity: 0.7 !important;
    transform: scale(0.98) !important;
    transition: all 0.1s ease !important;
  }
  
  /* Ensure all cards are tappable on mobile */
  [class*="card"],
  [class*="Card"] {
    cursor: pointer !important;
  }
}

/* Ensure all interactive elements are accessible on mobile */
@media (max-width: 768px) {
  /* Force all content to be visible - no desktop-only sections */
  [class*="desktop"],
  [class*="Desktop"] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Force all features to be enabled on mobile */
  [class*="feature"],
  [class*="Feature"],
  [class*="section"],
  [class*="Section"] {
    display: block !important;
    visibility: visible !important;
  }
  
  /* Force visible scrollbars on mobile for clarity */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
  }
  
  /* Prevent text size adjustment on orientation change */
  html {
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
  
  /* Improve form controls on mobile */
  input,
  textarea,
  select {
    font-size: 16px !important; /* Prevents zoom on focus in iOS */
    max-width: 100% !important;
  }
  
  /* Make sure modals/dialogs are mobile-friendly */
  [role="dialog"],
  [class*="modal"],
  [class*="Modal"],
  [class*="overlay"],
  [class*="Overlay"] {
    width: 95vw !important;
    max-width: 95vw !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
    margin: 0 auto !important;
  }
  
  /* Make grids single column on mobile */
  [style*="display: grid"],
  [class*="grid"],
  [class*="Grid"] {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }
  
  /* Stack flex containers on mobile */
  [style*="display: flex"] {
    flex-wrap: wrap !important;
  }
  
  /* Ensure tables are scrollable on mobile */
  table {
    display: block !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  /* Make all text readable on mobile */
  * {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  /* Prevent horizontal scroll */
  body, html, #root {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }
  
  /* Make sure all buttons are accessible */
  button[disabled],
  [class*="btn"][disabled],
  [class*="Btn"][disabled] {
    opacity: 0.5 !important;
    pointer-events: none !important;
  }
  
  /* Improve spacing on mobile */
  [class*="container"],
  [class*="Container"] {
    padding-left: 12px !important;
    padding-right: 12px !important;
  }
}

/* Tablet optimizations */
@media (min-width: 769px) and (max-width: 1024px) {
  /* Optimize layouts for tablet */
  [style*="display: grid"],
  [class*="grid"],
  [class*="Grid"] {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
  }
}

/* Ensure landscape mobile also has proper layout */
@media (max-width: 926px) and (orientation: landscape) {
  /* Reduce heights on landscape mobile */
  [class*="modal"],
  [class*="Modal"],
  [role="dialog"] {
    max-height: 80vh !important;
  }
  
  /* Optimize form layouts for landscape */
  form {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px !important;
  }
  
  /* Full width buttons on landscape mobile */
  button[type="submit"],
  [class*="submitBtn"],
  [class*="SubmitBtn"] {
    grid-column: 1 / -1 !important;
  }
}

/* iOS specific fixes */
@supports (-webkit-touch-callout: none) {
  /* Fix iOS Safari bounce effect interfering with scrolling */
  body {
    position: fixed;
    overflow: hidden;
    width: 100%;
    height: 100%;
  }
  
  #root {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    height: 100%;
  }
  
  /* Fix iOS input zoom */
  input,
  textarea,
  select {
    font-size: 16px !important;
  }
}

/* Android specific fixes */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  /* Improve Android Chrome performance */
  * {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
}

/* Print styles - ensure all content is visible when printing */
@media print {
  * {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  [class*="sidebar"],
  [class*="Sidebar"],
  [class*="nav"],
  [class*="Nav"],
  button,
  [role="button"] {
    display: none !important;
  }
}
